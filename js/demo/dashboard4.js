$(function(){$("#row2 .widget").equalHeight(),$("#row3 .widget").equalHeight(),$("#row4 .widget").equalHeight();var e=$(".looper");e.each(function(){var e=$(this),t=e.attr("data-interval")==undefined?5e3:e.attr("data-interval"),n=e.attr("data-pause")==undefined?"hover":e.attr("data-pause"),r=e.attr("data-speed")==undefined?500:e.attr("data-speed");e.looper({interval:t,pause:'"'+n+'"',speed:r})});var t=function(){Morris.Area({element:"sales-performance",data:[{period:"2012-07",targets:2.5,achievement:2},{period:"2012-08",targets:3,achievement:2.5},{period:"2012-09",targets:4,achievement:3},{period:"2012-10",targets:6,achievement:5.5},{period:"2012-11",targets:6.5,achievement:4},{period:"2012-12",targets:5.5,achievement:4.5},{period:"2013-01",targets:4.5,achievement:1.5},{period:"2013-02",targets:15,achievement:13},{period:"2013-03",targets:10,achievement:8},{period:"2013-04",targets:10.5,achievement:8},{period:"2013-05",targets:12,achievement:11},{period:"2013-06",targets:8,achievement:9}],xkey:"period",xLabels:"month",ykeys:["targets","achievement"],labels:["Targets","Achievement"],pointSize:2,hideHover:"auto",gridTextColor:"#F3F3F3",yLabelFormat:function(e){return e.toString()+" M"}})},n=function(){Morris.Bar({element:"sales-byarea",data:[{period:"2012-07",achievement:830},{period:"2012-08",achievement:745},{period:"2012-09",achievement:973},{period:"2012-10",achievement:548},{period:"2012-11",achievement:998},{period:"2012-12",achievement:840},{period:"2013-01",achievement:639},{period:"2013-02",achievement:658},{period:"2013-03",achievement:890},{period:"2013-04",achievement:857},{period:"2013-05",achievement:975},{period:"2013-06",achievement:648}],xkey:"period",ykeys:["achievement"],labels:["Achievement"],barRatio:.4,barColors:["#647687"],gridTextColor:"#F3F3F3",hideHover:"auto",yLabelFormat:function(e){return e.toString()+" K"}})},r=function(){Morris.Donut({element:"employee-resume",data:[{label:"Achievement",value:78},{label:"Target",value:22}],formatter:function(e){return e+"%"},colors:["#76608A","#F0A30A"]})},i=function(){Morris.Area({element:"employee-progress",data:[{period:"2012-07",targets:500,achievement:658},{period:"2012-08",targets:800,achievement:745},{period:"2012-09",targets:850,achievement:973},{period:"2012-10",targets:850,achievement:548},{period:"2012-11",targets:650,achievement:998},{period:"2012-12",targets:750,achievement:840},{period:"2013-01",targets:750,achievement:639},{period:"2013-02",targets:700,achievement:658},{period:"2013-03",targets:825,achievement:890},{period:"2013-04",targets:850,achievement:857},{period:"2013-05",targets:900,achievement:975},{period:"2013-06",targets:875,achievement:680}],xkey:"period",ykeys:["targets","achievement"],lineColors:["#F0A30A","#76608A"],labels:["Targets","Achievement"],pointSize:2,hideHover:"auto",yLabelFormat:function(e){return e.toString()+" K"}})};t(),n(),r(),$('[data-toggle="tab"]').on("shown",function(e){var t=e.target.attributes.href.value;$("#employee-resume, #employee-progress").empty(),$(t).is("#resumeStat")?r():$(t).is("#progressStat")&&i()});var s=function(){$("#sales-performance, #sales-byarea, #employee-resume, #employee-progress").empty(),t(),n(),r(),i()};$(window).resize(function(){s()}),$('[name="layout-mode"]').on("change",function(){s()});var o=$("#sale-employee").dataTable({sDom:"<'row-fluid'<'span12'f>r>t<'row-fluid'<'span6'i><'span6'p>>",iDisplayLength:8});$("#sale-employee tbody tr").click(function(e){$(this).hasClass("row_selected")?$(this).removeClass("row_selected"):(o.$("tr.row_selected").removeClass("row_selected"),$(this).addClass("row_selected"));var t=$(this).find("td").eq(1).text();$(".employee-name").text(t)}),$("#chat").mCustomScrollbar("scrollTo","bottom"),$('[data-toggle="add-others"]').click(function(){$(".add-to-chat").slideToggle("fast","easeOutBack")}),$('[name="addtochat"]').select2({placeholder:"Select user to add"}),$("#form-chat").submit(function(){var e=$('input[name="chat-text"]').val(),t='<li class="self"><div class="avatar">    <img src="img/demo/1.jpg" alt="" title="me" /></div><div class="messages bg-transparent">    <p class="color-white">'+e+"</p>"+'    <time class="color-white" datetime="2013-06-05T20:14">just now</time>'+"</div>"+"</li>";return e!=""&&e!=" "&&($("ol.chats").append(t),$("#chat").mCustomScrollbar("update"),$("#chat").mCustomScrollbar("scrollTo","bottom"),setTimeout(function(){t='<li class="other"><div class="avatar">    <img src="img/demo/2.jpg" alt="" title="john doe" /></div><div class="messages bg-transparent">    <p class="color-white">Demo : just simple replay from other.</p>    <time class="color-white" datetime="2013-06-05T20:14">john doe | just now</time></div></li>',$("ol.chats").append(t),$("#chat").mCustomScrollbar("update"),$("#chat").mCustomScrollbar("scrollTo","bottom")},3e3),$('input[name="chat-text"]').val("")),!1}),$("#form-addtochat").submit(function(){var e=$('[name="addtochat"]').select2("val");return e.length>0&&$.each(e,function(e,t){var n='<li class="moderator"><div class="messages"><p>'+t+" now join to chat</p></div>"+"</li>";$('[name="addtochat"] option[value="'+t+'"]').remove(),$('[name="addtochat"]').select2({placeholder:"Select user to add"}),$("ol.chats").append(n),$("#chat").mCustomScrollbar("update"),$("#chat").mCustomScrollbar("scrollTo","bottom")}),$(".add-to-chat").slideToggle("fast","easeOutBack"),!1});var u=new Date,a=u.getDate(),f=u.getMonth(),l=u.getFullYear();$("#calendar").fullCalendar({header:{left:"prev,next",center:"title",right:"today,month,agendaWeek,agendaDay"},editable:!0,events:[{title:"All Day Event",start:new Date(l,f,1)},{title:"Long Event",start:new Date(l,f,a-5),end:new Date(l,f,a-2)},{id:999,title:"Repeating Event",start:new Date(l,f,a-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(l,f,a+4,16,0),allDay:!1},{title:"Meeting",start:new Date(l,f,a,10,30),allDay:!1},{title:"Lunch",start:new Date(l,f,a,12,0),end:new Date(l,f,a,14,0),allDay:!1},{title:"Birthday Party",start:new Date(l,f,a+1,19,0),end:new Date(l,f,a+1,22,30),allDay:!1},{title:"Click for stilearning",start:new Date(l,f,28),end:new Date(l,f,29),url:"http://stilearning.com/"}]}),$(".fc-button-agendaWeek, .fc-button-agendaDay").on("click",function(){var e=$(".fc-agenda-divider").next();$(e).mCustomScrollbar("destroy"),$(e).mCustomScrollbar({autoHideScrollbar:!0,scrollButtons:{enable:!0,scrollSpeed:60},theme:"light-thick"})})});